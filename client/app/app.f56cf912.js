"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}angular.module("projApp",["projApp.constants","ngCookies","ngResource","ngSanitize","ui.router"]).config(["$urlRouterProvider","$locationProvider",function(a,b){a.otherwise("/"),b.html5Mode(!0)}]),angular.module("projApp.util",[]),function(a,b){a.module("projApp.constants",[]).constant("appConfig",{userRoles:["guest","user","admin"]})}(angular);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c){_classCallCheck(this,a),this.scope=b,this.scope.showSudakaMachine=!1,this.wins=0,this.rounds=0,this.machine1=jQuery("#machine1").slotMachine({active:0,delay:500}),this.machine2=jQuery("#machine2").slotMachine({active:1,delay:500,direction:"down"}),this.machine3=jQuery("#machine3").slotMachine({active:2,delay:500}),b.addSudaka=this.addSudaka.bind(this),b.publishResult=this.publishResult.bind(this),this.sudakaService=c}return a.$inject=["$scope","sudakaService"],_createClass(a,[{key:"addSudaka",value:function(){if(!this.scope.sudakaForm||!this.scope.sudakaForm.$invalid){this.scope.showSudakaMachine=!0;var a=this;this.sudakaService.addSudaka(this.scope.sudaka).then(function(b){a.scope.sudaka=void 0})["catch"](function(a){console.log("error",a)})}}},{key:"onComplete",value:function(a){switch(this.element[0].id){case"machine1":$("#machine1Result").text("Index: "+this.active);break;case"machine2":$("#machine2Result").text("Index: "+this.active);break;case"machine3":$("#machine3Result").text("Index: "+this.active)}}},{key:"trickMachine",value:function(a,b){this.rounds=this.rounds+1;var c=this.getRandomBoolean();this.rounds>100&&(this.rounds=0),c&&this.wins<3&&(this.wins=this.wins+1,this.machine1.futureActive=0,this.machine2.futureActive=0,this.machine3.futureActive=0)}},{key:"getRandomBoolean",value:function(){var a=[0,0,0,0,0,0,0,0,0,1],b=Math.floor(Math.random()*a.length);return a[b]}},{key:"publishResult",value:function(){$("#machine1Result").text()===$("#machine2Result").text()&&$("#machine2Result").text()===$("#machine3Result").text()?this.scope.result="Heeey you won an entry ticket!":this.scope.result="Sorry you are not a winner, Enjoy the party!",this.scope.$apply();var a=this;setTimeout(function(){a.scope.showSudakaMachine=!1,a.scope.result="",a.scope.$apply()},4e3)}},{key:"shuffle",value:function(){var a=this;a.trickMachine(),jQuery("#slotMachineButton1").click(function(){a.machine1.shuffle(5,a.onComplete),setTimeout(function(){a.machine2.shuffle(5,a.onComplete)},500),setTimeout(function(){a.machine3.shuffle(5,a.onComplete)},1e3),setTimeout(function(){a.publishResult()},4e3)})}}]),a}();angular.module("projApp").controller("MainController",a)}(),angular.module("projApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"})}]),angular.module("projApp").directive("footer",function(){return{templateUrl:"components/footer/footer.html",restrict:"E",link:function(a,b){b.addClass("footer")}}});var NavbarController=function a(){_classCallCheck(this,a),this.menu=[{title:"Home",state:"main"}],this.isCollapsed=!0};angular.module("projApp").controller("NavbarController",NavbarController),angular.module("projApp").directive("navbar",function(){return{templateUrl:"components/navbar/navbar.html",restrict:"E",controller:"NavbarController",controllerAs:"nav"}}),angular.module("projApp").service("sudakaService",["$http","configValues",function(a,b){return{addSudaka:function(c){if(c){var d=b.sudakaApi;return a({method:"POST",url:d,"Content-Type":"application/json",data:c})}}}}]),function(){function a(a){var b={safeCb:function(a){return angular.isFunction(a)?a:angular.noop},urlParse:function(a){var b=document.createElement("a");return b.href=a,b},isSameOrigin:function(c,d){return c=b.urlParse(c),d=d&&[].concat(d)||[],d=d.map(b.urlParse),d.push(a.location),d=d.filter(function(a){return c.hostname===a.hostname&&c.port===a.port&&c.protocol===a.protocol}),d.length>=1}};return b}a.$inject=["$window"],angular.module("projApp.util").factory("Util",a)}(),angular.module("projApp").value("configValues",{sudakaApi:"/api/sudaka"}),angular.module("projApp").run(["$templateCache",function(a){a.put("app/main/main.html",'<canvas id=confeti class=active width=100% height=100%></canvas><div class=title-container><div class=title></div></div><div class=sudaka-form ng-show=!showSudakaMachine><form name=sudakaForm><div class="input-form-group email-group"><label for=email>Enter your email and play to win tickets!</label><input class=input-email type=email name=email ng-model=sudaka.email required></div><div class="input-form-group radio-button-group"><div class=input-radio><input type=radio name=status ng-model=sudaka.status value=Resident required> Resident</div><div class=input-radio><input type=radio name=status ng-model=sudaka.status value=Traveller required> Traveller</div><div class=input-radio><input type=radio name=status ng-model=sudaka.status value=Student required> Student</div></div><div class=button-container><button type=submit class="form-submit sudaka-button" ng-click=addSudaka()>PLAY</button></div></form></div><div class="line sudaka-machine" ng-show=showSudakaMachine><div class="content container" style="text-align: center"><div class=row><div class="col-xs-12 col-md-6 col-md-offset-3 machineContainer"><div id=machine1 class=slotMachine><div class="slot slot1"></div><div class="slot slot2"></div><div class="slot slot3"></div><div class="slot slot4"></div><div class="slot slot5"></div><div class="slot slot6"></div></div><div id=machine2 class=slotMachine><div class="slot slot1"></div><div class="slot slot2"></div><div class="slot slot3"></div><div class="slot slot4"></div><div class="slot slot5"></div><div class="slot slot6"></div></div><div id=machine3 class=slotMachine><div class="slot slot1"></div><div class="slot slot2"></div><div class="slot slot3"></div><div class="slot slot4"></div><div class="slot slot5"></div><div class="slot slot6"></div></div><div id=machine1Result class="col-xs-4 machineResult">Index: 0</div><div id=machine2Result class="col-xs-4 machineResult">Index: 1</div><div id=machine3Result class="col-xs-4 machineResult">Index: 2</div></div><div class="button-container col-md-2"><button id=slotMachineButton1 class="slotMachineButton sudaka-button" ng-click=main.shuffle()>GO!</button></div>{{result}}</div></div></div>'),a.put("components/footer/footer.html",'<div class=container><p>Angular Fullstack v3.2.0 | <a href=https://twitter.com/tyhenkel>@tyhenkel</a> | <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarController><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="nav.isCollapsed = !nav.isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>proj</a></div><div collapse=nav.isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in nav.menu" ui-sref-active=active><a ui-sref={{item.state}}>{{item.title}}</a></li></ul></div></div></div>')}]);